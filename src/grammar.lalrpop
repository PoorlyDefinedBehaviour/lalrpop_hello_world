use std::str::FromStr;

grammar;

pub Expr: i32 = {
  <left: Expr> "+" <right: Factor> => left + right,
  <left: Expr> "-" <right: Factor> => left - right,
  Factor
}

Factor: i32 = {
  <left: Factor> "*" <right: Term> => left * right,
  <left: Factor> "/" <right: Term> => left / right,
  Term,
}

Term: i32 = {
  Num,
  "(" <Expr> ")"
}

Num: i32 = <s: r"[0-9]+"> => i32::from_str(s).unwrap();